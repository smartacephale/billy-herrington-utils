{"version":3,"file":"billy-herrington-utils.es.js","sources":["../src/utils/strings/index.ts","../src/utils/parsers/index.ts","../src/utils/observers/index.ts","../src/utils/math/index.ts","../src/utils/dom/index.ts","../src/utils/fetch/index.ts","../src/utils/events/index.ts","../src/utils/device/index.ts","../src/utils/async/index.ts","../src/utils/arrays/index.ts"],"sourcesContent":["export function stringToWords(s: string): Array<string> {\r\n  return s.split(\",\").map(s => s.trim().toLowerCase()).filter(_ => _);\r\n}\r\n\r\nexport function sanitizeStr(s: string) {\r\n  return s?.replace(/\\n|\\t/, ' ').replace(/ {2,}/, ' ').trim().toLowerCase() || \"\";\r\n}\r\n","export function timeToSeconds(t: string): number {\r\n  return (t?.match(/\\d+/gm) || [0])\r\n    .reverse()\r\n    .map((s, i) => parseInt(s as string) * 60 ** i)\r\n    .reduce((a, b) => a + b);\r\n}\r\n\r\nexport function parseIntegerOr(n: string | number, or: number): number {\r\n  return (num => Number.isNaN(num) ? or : num)(parseInt(n as string));\r\n}\r\n\r\n// \"data:02;body+head:async;void:;zero:;\"\r\nexport function parseDataParams(str: string): Record<string, string> {\r\n  return str.split(';').reduce((acc, s) => {\r\n    const parsed = s.match(/([\\+\\w]+):(\\w+)?/);\r\n    if (parsed) {\r\n      const [, key, value] = parsed;\r\n      if (value) {\r\n        key.split('+').forEach(p => { acc[p] = value; });\r\n      }\r\n    }\r\n    return acc;\r\n  }, {} as Record<string, string>);\r\n}\r\n\r\nexport function parseCSSUrl(s: string) {\r\n  return s.replace(/url\\(\"|\\\"\\).*/g, '');\r\n}\r\n","export class Observer {\r\n  public observer: IntersectionObserver;\r\n  constructor(private callback: (entry: Element) => void) {\r\n    this.observer = new IntersectionObserver(this.handleIntersection.bind(this));\r\n  }\r\n\r\n  observe(target: Element) {\r\n    this.observer.observe(target);\r\n  }\r\n\r\n  throttle(target: Element, throttleTime: number) {\r\n    this.observer.unobserve(target);\r\n    setTimeout(() => this.observer.observe(target), throttleTime);\r\n  }\r\n\r\n  handleIntersection(entries: Iterable<IntersectionObserverEntry>) {\r\n    for (const entry of entries) {\r\n      if (entry.isIntersecting) {\r\n        this.callback(entry.target);\r\n      }\r\n    }\r\n  }\r\n\r\n  static observeWhile(target: Element, callback: () => Promise<boolean> | boolean, throttleTime: number) {\r\n    const observer_ = new Observer(async (target: Element) => {\r\n      const condition = await callback();\r\n      if (condition) observer_.throttle(target, throttleTime);\r\n    });\r\n    observer_.observe(target);\r\n    return observer_;\r\n  }\r\n}\r\n\r\nexport class LazyImgLoader {\r\n  public lazyImgObserver: Observer;\r\n  private attributeName = 'data-lazy-load';\r\n\r\n  constructor(shouldDelazify: (target: Element) => boolean) {\r\n    this.lazyImgObserver = new Observer((target: Element) => {\r\n      if (shouldDelazify(target)) {\r\n        this.delazify(target as HTMLImageElement);\r\n      }\r\n    });\r\n  }\r\n\r\n  lazify(_target: Element, img: HTMLImageElement, imgSrc: string) {\r\n    if (!img || !imgSrc) return;\r\n    img.setAttribute(this.attributeName, imgSrc);\r\n    img.src = '';\r\n    this.lazyImgObserver.observe(img);\r\n  }\r\n\r\n  delazify = (target: HTMLImageElement) => {\r\n    this.lazyImgObserver.observer.unobserve(target);\r\n    target.src = target.getAttribute(this.attributeName) as string;\r\n    target.removeAttribute(this.attributeName);\r\n  }\r\n}\r\n","export function circularShift(n: number, c = 6, s = 1): number {\r\n  return (n + s) % c || c;\r\n}\r\n","export function parseDom(html: string): HTMLElement {\r\n  const parsed = new DOMParser().parseFromString(html, 'text/html').body;\r\n  return parsed.children.length > 1 ? parsed : parsed.firstElementChild as HTMLElement;\r\n}\r\n\r\nexport function copyAttributes(target: HTMLElement | Element, source: HTMLElement | Element) {\r\n  for (const attr of source.attributes) {\r\n    attr.nodeValue && target.setAttribute(attr.nodeName, attr.nodeValue);\r\n  }\r\n}\r\n\r\nexport function replaceElementTag(e: HTMLElement | Element, tagName: string) {\r\n  const newTagElement = document.createElement(tagName);\r\n  copyAttributes(newTagElement, e);\r\n  newTagElement.innerHTML = e.innerHTML;\r\n  e.parentNode?.replaceChild(newTagElement, e);\r\n  return newTagElement;\r\n}\r\n\r\nexport function getAllUniqueParents(elements: HTMLCollection): Array<HTMLElement | Element> {\r\n  return Array.from(elements).reduce((acc, v) => {\r\n    if (v.parentElement && !acc.includes(v.parentElement as HTMLElement)) { acc.push(v.parentElement); }\r\n    return acc;\r\n  }, [] as Array<HTMLElement | Element>);\r\n}\r\n\r\nexport function findNextSibling(el: HTMLElement | Element) {\r\n  if (el.nextElementSibling) return el.nextElementSibling;\r\n  if (el.parentElement) return findNextSibling(el.parentElement);\r\n  return null;\r\n}\r\n\r\nexport function waitForElementExists(parent: HTMLElement | Element, selector: string, callback: (el: Element) => void): void {\r\n  const observer = new MutationObserver((_mutations) => {\r\n    const el = parent.querySelector(selector);\r\n    if (el) {\r\n      observer.disconnect();\r\n      callback(el);\r\n    }\r\n  });\r\n  observer.observe(document.body, { childList: true, subtree: true });\r\n}\r\n\r\nexport function watchElementChildrenCount(element: HTMLElement | Element,\r\n  callback: (observer: MutationObserver, count: number) => void): void {\r\n  let count = element.children.length;\r\n  const observer = new MutationObserver((mutationList, observer) => {\r\n    for (const mutation of mutationList) {\r\n      if (mutation.type === \"childList\") {\r\n        if (count !== element.children.length) {\r\n          count = element.children.length;\r\n          callback(observer, count);\r\n        }\r\n      }\r\n    }\r\n  });\r\n  observer.observe(element, { childList: true });\r\n}\r\n\r\nexport function watchDomChangesWithThrottle(element: HTMLElement | Element, callback: () => void,\r\n  throttle = 1000, options: Record<string, boolean> = { childList: true, subtree: true, attributes: true }) {\r\n  let lastMutationTime: number;\r\n  let timeout: number;\r\n  const observer = new MutationObserver((_mutationList, _observer) => {\r\n    const now = Date.now();\r\n    if (lastMutationTime && now - lastMutationTime < throttle) {\r\n      timeout && clearTimeout(timeout);\r\n    }\r\n    timeout = setTimeout(callback, throttle);\r\n    lastMutationTime = now;\r\n  });\r\n  observer.observe(element, options);\r\n}\r\n\r\nexport function downloader(options = { append: \"\", after: \"\", button: \"\", cbBefore: () => { } }) {\r\n  const btn = parseDom(options.button);\r\n\r\n  if (options.append) document.querySelector(options.append)?.append(btn);\r\n  if (options.after) document.querySelector(options.after)?.after(btn);\r\n\r\n  btn.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n\r\n    if (options.cbBefore) options.cbBefore();\r\n\r\n    waitForElementExists(document.body, 'video', (video: Element) => {\r\n      window.location.href = video.getAttribute('src') as string;\r\n    });\r\n  });\r\n}","import { parseDom } from \"../dom\";\r\n\r\nexport const MOBILE_UA = [\r\n  'Mozilla/5.0 (Linux; Android 10; K)',\r\n  'AppleWebKit/537.36 (KHTML, like Gecko)',\r\n  'Chrome/114.0.0.0 Mobile Safari/537.36'].join(' ');\r\n\r\nexport function fetchWith(url: string, options: Record<string, boolean> = { html: false, mobile: false }) {\r\n  const reqOpts = {};\r\n  if (options.mobile) Object.assign(reqOpts, { headers: new Headers({ \"User-Agent\": MOBILE_UA }) });\r\n  return fetch(url, reqOpts).then((r) => r.text()).then(r => options.html ? parseDom(r) : r);\r\n}\r\n\r\nexport const fetchHtml = (url: string) => fetchWith(url, { html: true });\r\n\r\nexport const fetchText = (url: string) => fetchWith(url);\r\n\r\nexport function objectToFormData(object: Record<string, number | boolean | string>): FormData {\r\n  const formData = new FormData();\r\n  Object.entries(object).forEach(([k, v]) => formData.append(k, v as string));\r\n  return formData;\r\n}\r\n","export function listenEvents(dom: HTMLElement | Element, events: Array<string>, callback: (e: Event) => void): void {\r\n  for (const e of events) {\r\n    dom.addEventListener(e, callback, true);\r\n  }\r\n}\r\n\r\nexport class Tick {\r\n  private tick?: number;\r\n  private callbackFinal?: () => void;\r\n\r\n  constructor(private delay: number, private startImmediate: boolean = true) {}\r\n\r\n  public start(callback: () => void, callbackFinal?: () => void): void {\r\n    this.stop();\r\n    this.callbackFinal = callbackFinal;\r\n    if (this.startImmediate) callback();\r\n    this.tick = window.setInterval(callback, this.delay);\r\n  }\r\n\r\n  public stop(): void {\r\n    if (this.tick !== undefined) {\r\n      clearInterval(this.tick);\r\n      this.tick = undefined;\r\n    }\r\n    if (this.callbackFinal) {\r\n      this.callbackFinal();\r\n      this.callbackFinal = undefined;\r\n    }\r\n  }\r\n}\r\n","export function isMob() {\r\n  return /iPhone|Android/i.test(navigator.userAgent);\r\n}","// https://2ality.com/2016/10/asynchronous-iteration.html\r\nexport async function computeAsyncOneAtTime(iterable: Iterable<() => Promise<void>>) {\r\n  const res = [];\r\n  for await (const f of iterable) {\r\n    res.push(await f());\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function wait(milliseconds: number) {\r\n  return new Promise((resolve) => setTimeout(resolve, milliseconds));\r\n}\r\n\r\ninterface AsyncPoolTask {\r\n  v: () => Promise<void>;\r\n  p: number;\r\n}\r\n\r\nexport class AsyncPool {\r\n  cur = 0;\r\n  private finished: Promise<boolean>;\r\n  private _resolve?: (value: boolean | PromiseLike<boolean>) => void;\r\n\r\n  public static async doNAsyncAtOnce(max = 1, pool: Array<AsyncPoolTask | (() => Promise<void>)> = []) {\r\n    const spool = new AsyncPool(max);\r\n    pool.forEach(f => spool.push(f));\r\n    return spool.run();\r\n  }\r\n\r\n  constructor(private max = 1, private pool: Array<AsyncPoolTask> = []) {\r\n    this.finished = new Promise((resolve) => {\r\n      this._resolve = resolve;\r\n    });\r\n  }\r\n\r\n  private getHighPriorityFirst(p = 0): (() => Promise<void>) | undefined {\r\n    if (p > 3 || this.pool.length === 0) return undefined;\r\n    const i = this.pool.findIndex((e) => e.p === p);\r\n    if (i >= 0) {\r\n      const res = this.pool[i].v;\r\n      this.pool.splice(i, 1);\r\n      return res;\r\n    }\r\n    return this.getHighPriorityFirst(p + 1);\r\n  }\r\n\r\n  private async runTask() {\r\n    const taskFunc = this.getHighPriorityFirst();\r\n    if (!taskFunc) {\r\n      this.checkCompletion();\r\n      return;\r\n    }\r\n\r\n    this.cur++;\r\n    try {\r\n      await taskFunc();\r\n    } catch (error) {\r\n      console.error(\"Task execution failed:\", error);\r\n    } finally {\r\n      this.cur--;\r\n      this.runTasks();\r\n    }\r\n  }\r\n\r\n  private checkCompletion() {\r\n    if (this.pool.length === 0 && this.cur === 0) {\r\n      this._resolve?.(true);\r\n    }\r\n  }\r\n\r\n  private runTasks() {\r\n    while (this.cur < this.max) {\r\n      this.runTask();\r\n    }\r\n  }\r\n\r\n  public async run() {\r\n    this.runTasks();\r\n    return this.finished;\r\n  }\r\n\r\n  public push(x: AsyncPoolTask | (() => Promise<void>)) {\r\n    this.pool.push('p' in x ? x : { v: x, p: 0 });\r\n  }\r\n}\r\n\r\n","export function chunks<T>(arr: Array<T>, n: number): Array<Array<T>> {\r\n  return Array.from({ length: Math.ceil(arr.length / n) }, (_, i) => arr.slice(i * n, i * n + n));\r\n}\r\n\r\nexport function range(size: number, startAt: number = 1, step: number = 1): number[] {\r\n  return Array.from({ length: size }, (_, index) => startAt + index * step);\r\n}\r\n"],"names":["s","target","observer"],"mappings":";;;AAAO,SAAS,cAAc,GAA0B;AACtD,SAAO,EAAE,MAAM,GAAG,EAAE,IAAI,CAAAA,OAAKA,GAAE,OAAO,YAAY,CAAC,EAAE,OAAO,OAAK,CAAC;AACpE;AAEO,SAAS,YAAY,GAAW;AACrC,SAAO,GAAG,QAAQ,SAAS,GAAG,EAAE,QAAQ,SAAS,GAAG,EAAE,KAAA,EAAO,YAAA,KAAiB;AAChF;ACNO,SAAS,cAAc,GAAmB;AACvC,UAAA,GAAG,MAAM,OAAO,KAAK,CAAC,CAAC,GAC5B,QACA,EAAA,IAAI,CAAC,GAAG,MAAM,SAAS,CAAW,IAAI,MAAM,CAAC,EAC7C,OAAO,CAAC,GAAG,MAAM,IAAI,CAAC;AAC3B;AAEgB,SAAA,eAAe,GAAoB,IAAoB;AAC7D,UAAA,CAAA,QAAO,OAAO,MAAM,GAAG,IAAI,KAAK,KAAK,SAAS,CAAW,CAAC;AACpE;AAGO,SAAS,gBAAgB,KAAqC;AACnE,SAAO,IAAI,MAAM,GAAG,EAAE,OAAO,CAAC,KAAK,MAAM;AACjC,UAAA,SAAS,EAAE,MAAM,kBAAkB;AACzC,QAAI,QAAQ;AACV,YAAM,GAAG,KAAK,KAAK,IAAI;AACvB,UAAI,OAAO;AACT,YAAI,MAAM,GAAG,EAAE,QAAQ,CAAK,MAAA;AAAE,cAAI,CAAC,IAAI;AAAA,QAAA,CAAQ;AAAA,MACjD;AAAA,IACF;AACO,WAAA;AAAA,EACT,GAAG,CAA4B,CAAA;AACjC;AAEO,SAAS,YAAY,GAAW;AAC9B,SAAA,EAAE,QAAQ,kBAAkB,EAAE;AACvC;AC3BO,MAAM,SAAS;AAAA,EAEpB,YAAoB,UAAoC;AADjD;AACa,SAAA,WAAA;AAClB,SAAK,WAAW,IAAI,qBAAqB,KAAK,mBAAmB,KAAK,IAAI,CAAC;AAAA,EAC7E;AAAA,EAEA,QAAQ,QAAiB;AAClB,SAAA,SAAS,QAAQ,MAAM;AAAA,EAC9B;AAAA,EAEA,SAAS,QAAiB,cAAsB;AACzC,SAAA,SAAS,UAAU,MAAM;AAC9B,eAAW,MAAM,KAAK,SAAS,QAAQ,MAAM,GAAG,YAAY;AAAA,EAC9D;AAAA,EAEA,mBAAmB,SAA8C;AAC/D,eAAW,SAAS,SAAS;AAC3B,UAAI,MAAM,gBAAgB;AACnB,aAAA,SAAS,MAAM,MAAM;AAAA,MAC5B;AAAA,IACF;AAAA,EACF;AAAA,EAEA,OAAO,aAAa,QAAiB,UAA4C,cAAsB;AACrG,UAAM,YAAY,IAAI,SAAS,OAAOC,YAAoB;AAClD,YAAA,YAAY,MAAM;AACxB,UAAI,UAAW,WAAU,SAASA,SAAQ,YAAY;AAAA,IAAA,CACvD;AACD,cAAU,QAAQ,MAAM;AACjB,WAAA;AAAA,EACT;AACF;AAEO,MAAM,cAAc;AAAA,EAIzB,YAAY,gBAA8C;AAHnD;AACC,yCAAgB;AAiBxB,oCAAW,CAAC,WAA6B;AAClC,WAAA,gBAAgB,SAAS,UAAU,MAAM;AAC9C,aAAO,MAAM,OAAO,aAAa,KAAK,aAAa;AAC5C,aAAA,gBAAgB,KAAK,aAAa;AAAA,IAAA;AAjBzC,SAAK,kBAAkB,IAAI,SAAS,CAAC,WAAoB;AACnD,UAAA,eAAe,MAAM,GAAG;AAC1B,aAAK,SAAS,MAA0B;AAAA,MAC1C;AAAA,IAAA,CACD;AAAA,EACH;AAAA,EAEA,OAAO,SAAkB,KAAuB,QAAgB;AAC1D,QAAA,CAAC,OAAO,CAAC,OAAQ;AACjB,QAAA,aAAa,KAAK,eAAe,MAAM;AAC3C,QAAI,MAAM;AACL,SAAA,gBAAgB,QAAQ,GAAG;AAAA,EAClC;AAOF;ACzDO,SAAS,cAAc,GAAW,IAAI,GAAG,IAAI,GAAW;AACrD,UAAA,IAAI,KAAK,KAAK;AACxB;ACFO,SAAS,SAAS,MAA2B;AAClD,QAAM,SAAS,IAAI,YAAY,gBAAgB,MAAM,WAAW,EAAE;AAClE,SAAO,OAAO,SAAS,SAAS,IAAI,SAAS,OAAO;AACtD;AAEgB,SAAA,eAAe,QAA+B,QAA+B;AAChF,aAAA,QAAQ,OAAO,YAAY;AACpC,SAAK,aAAa,OAAO,aAAa,KAAK,UAAU,KAAK,SAAS;AAAA,EACrE;AACF;AAEgB,SAAA,kBAAkB,GAA0B,SAAiB;AACrE,QAAA,gBAAgB,SAAS,cAAc,OAAO;AACpD,iBAAe,eAAe,CAAC;AAC/B,gBAAc,YAAY,EAAE;AAC1B,IAAA,YAAY,aAAa,eAAe,CAAC;AACpC,SAAA;AACT;AAEO,SAAS,oBAAoB,UAAwD;AAC1F,SAAO,MAAM,KAAK,QAAQ,EAAE,OAAO,CAAC,KAAK,MAAM;AAC7C,QAAI,EAAE,iBAAiB,CAAC,IAAI,SAAS,EAAE,aAA4B,GAAG;AAAM,UAAA,KAAK,EAAE,aAAa;AAAA,IAAG;AAC5F,WAAA;AAAA,EACT,GAAG,CAAkC,CAAA;AACvC;AAEO,SAAS,gBAAgB,IAA2B;AACrD,MAAA,GAAG,mBAAoB,QAAO,GAAG;AACrC,MAAI,GAAG,cAAsB,QAAA,gBAAgB,GAAG,aAAa;AACtD,SAAA;AACT;AAEgB,SAAA,qBAAqB,QAA+B,UAAkB,UAAuC;AAC3H,QAAM,WAAW,IAAI,iBAAiB,CAAC,eAAe;AAC9C,UAAA,KAAK,OAAO,cAAc,QAAQ;AACxC,QAAI,IAAI;AACN,eAAS,WAAW;AACpB,eAAS,EAAE;AAAA,IACb;AAAA,EAAA,CACD;AACQ,WAAA,QAAQ,SAAS,MAAM,EAAE,WAAW,MAAM,SAAS,MAAM;AACpE;AAEgB,SAAA,0BAA0B,SACxC,UAAqE;AACjE,MAAA,QAAQ,QAAQ,SAAS;AAC7B,QAAM,WAAW,IAAI,iBAAiB,CAAC,cAAcC,cAAa;AAChE,eAAW,YAAY,cAAc;AAC/B,UAAA,SAAS,SAAS,aAAa;AAC7B,YAAA,UAAU,QAAQ,SAAS,QAAQ;AACrC,kBAAQ,QAAQ,SAAS;AACzB,mBAASA,WAAU,KAAK;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAAA,EAAA,CACD;AACD,WAAS,QAAQ,SAAS,EAAE,WAAW,KAAM,CAAA;AAC/C;AAEO,SAAS,4BAA4B,SAAgC,UAC1E,WAAW,KAAM,UAAmC,EAAE,WAAW,MAAM,SAAS,MAAM,YAAY,QAAQ;AACtG,MAAA;AACA,MAAA;AACJ,QAAM,WAAW,IAAI,iBAAiB,CAAC,eAAe,cAAc;AAC5D,UAAA,MAAM,KAAK;AACb,QAAA,oBAAoB,MAAM,mBAAmB,UAAU;AACzD,iBAAW,aAAa,OAAO;AAAA,IACjC;AACU,cAAA,WAAW,UAAU,QAAQ;AACpB,uBAAA;AAAA,EAAA,CACpB;AACQ,WAAA,QAAQ,SAAS,OAAO;AACnC;AAEgB,SAAA,WAAW,UAAU,EAAE,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,MAAM;AAAE,KAAK;AACzF,QAAA,MAAM,SAAS,QAAQ,MAAM;AAE/B,MAAA,QAAQ,OAAiB,UAAA,cAAc,QAAQ,MAAM,GAAG,OAAO,GAAG;AAClE,MAAA,QAAQ,MAAgB,UAAA,cAAc,QAAQ,KAAK,GAAG,MAAM,GAAG;AAE/D,MAAA,iBAAiB,SAAS,CAAC,MAAM;AACnC,MAAE,eAAe;AAEb,QAAA,QAAQ,SAAU,SAAQ,SAAS;AAEvC,yBAAqB,SAAS,MAAM,SAAS,CAAC,UAAmB;AAC/D,aAAO,SAAS,OAAO,MAAM,aAAa,KAAK;AAAA,IAAA,CAChD;AAAA,EAAA,CACF;AACH;ACvFO,MAAM,YAAY;AAAA,EACvB;AAAA,EACA;AAAA,EACA;AAAuC,EAAE,KAAK,GAAG;AAEnC,SAAA,UAAU,KAAa,UAAmC,EAAE,MAAM,OAAO,QAAQ,SAAS;AACxG,QAAM,UAAU,CAAA;AAChB,MAAI,QAAQ,OAAe,QAAA,OAAO,SAAS,EAAE,SAAS,IAAI,QAAQ,EAAE,cAAc,UAAW,CAAA,EAAG,CAAA;AAChG,SAAO,MAAM,KAAK,OAAO,EAAE,KAAK,CAAC,MAAM,EAAE,KAAA,CAAM,EAAE,KAAK,CAAK,MAAA,QAAQ,OAAO,SAAS,CAAC,IAAI,CAAC;AAC3F;AAEa,MAAA,YAAY,CAAC,QAAgB,UAAU,KAAK,EAAE,MAAM,MAAM;AAEhE,MAAM,YAAY,CAAC,QAAgB,UAAU,GAAG;AAEhD,SAAS,iBAAiB,QAA6D;AACtF,QAAA,WAAW,IAAI;AACrB,SAAO,QAAQ,MAAM,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,SAAS,OAAO,GAAG,CAAW,CAAC;AACnE,SAAA;AACT;ACrBgB,SAAA,aAAa,KAA4B,QAAuB,UAAoC;AAClH,aAAW,KAAK,QAAQ;AAClB,QAAA,iBAAiB,GAAG,UAAU,IAAI;AAAA,EACxC;AACF;AAEO,MAAM,KAAK;AAAA,EAIhB,YAAoB,OAAuB,iBAA0B,MAAM;AAHnE;AACA;AAEY,SAAA,QAAA;AAAuB,SAAA,iBAAA;AAAA,EAAiC;AAAA,EAErE,MAAM,UAAsB,eAAkC;AACnE,SAAK,KAAK;AACV,SAAK,gBAAgB;AACjB,QAAA,KAAK,eAAyB;AAClC,SAAK,OAAO,OAAO,YAAY,UAAU,KAAK,KAAK;AAAA,EACrD;AAAA,EAEO,OAAa;AACd,QAAA,KAAK,SAAS,QAAW;AAC3B,oBAAc,KAAK,IAAI;AACvB,WAAK,OAAO;AAAA,IACd;AACA,QAAI,KAAK,eAAe;AACtB,WAAK,cAAc;AACnB,WAAK,gBAAgB;AAAA,IACvB;AAAA,EACF;AACF;AC7BO,SAAS,QAAQ;AACf,SAAA,kBAAkB,KAAK,UAAU,SAAS;AACnD;ACDA,eAAsB,sBAAsB,UAAyC;AACnF,QAAM,MAAM,CAAA;AACZ,mBAAiB,KAAK,UAAU;AAC1B,QAAA,KAAK,MAAM,EAAA,CAAG;AAAA,EACpB;AACO,SAAA;AACT;AAEO,SAAS,KAAK,cAAsB;AACzC,SAAO,IAAI,QAAQ,CAAC,YAAY,WAAW,SAAS,YAAY,CAAC;AACnE;AAOO,MAAM,UAAU;AAAA,EAWrB,YAAoB,MAAM,GAAW,OAA6B,CAAA,GAAI;AAVtE,+BAAM;AACE;AACA;AAQY,SAAA,MAAA;AAAiB,SAAA,OAAA;AACnC,SAAK,WAAW,IAAI,QAAQ,CAAC,YAAY;AACvC,WAAK,WAAW;AAAA,IAAA,CACjB;AAAA,EACH;AAAA,EAVA,aAAoB,eAAe,MAAM,GAAG,OAAqD,CAAA,GAAI;AAC7F,UAAA,QAAQ,IAAI,UAAU,GAAG;AAC/B,SAAK,QAAQ,CAAA,MAAK,MAAM,KAAK,CAAC,CAAC;AAC/B,WAAO,MAAM;EACf;AAAA,EAQQ,qBAAqB,IAAI,GAAsC;AACrE,QAAI,IAAI,KAAK,KAAK,KAAK,WAAW,EAAU,QAAA;AACtC,UAAA,IAAI,KAAK,KAAK,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC;AAC9C,QAAI,KAAK,GAAG;AACV,YAAM,MAAM,KAAK,KAAK,CAAC,EAAE;AACpB,WAAA,KAAK,OAAO,GAAG,CAAC;AACd,aAAA;AAAA,IACT;AACO,WAAA,KAAK,qBAAqB,IAAI,CAAC;AAAA,EACxC;AAAA,EAEA,MAAc,UAAU;AAChB,UAAA,WAAW,KAAK;AACtB,QAAI,CAAC,UAAU;AACb,WAAK,gBAAgB;AACrB;AAAA,IACF;AAEK,SAAA;AACD,QAAA;AACF,YAAM,SAAS;AAAA,aACR,OAAO;AACN,cAAA,MAAM,0BAA0B,KAAK;AAAA,IAAA,UAC7C;AACK,WAAA;AACL,WAAK,SAAS;AAAA,IAChB;AAAA,EACF;AAAA,EAEQ,kBAAkB;AACxB,QAAI,KAAK,KAAK,WAAW,KAAK,KAAK,QAAQ,GAAG;AAC5C,WAAK,WAAW,IAAI;AAAA,IACtB;AAAA,EACF;AAAA,EAEQ,WAAW;AACV,WAAA,KAAK,MAAM,KAAK,KAAK;AAC1B,WAAK,QAAQ;AAAA,IACf;AAAA,EACF;AAAA,EAEA,MAAa,MAAM;AACjB,SAAK,SAAS;AACd,WAAO,KAAK;AAAA,EACd;AAAA,EAEO,KAAK,GAA0C;AAC/C,SAAA,KAAK,KAAK,OAAO,IAAI,IAAI,EAAE,GAAG,GAAG,GAAG,EAAG,CAAA;AAAA,EAC9C;AACF;ACpFgB,SAAA,OAAU,KAAe,GAA4B;AAC5D,SAAA,MAAM,KAAK,EAAE,QAAQ,KAAK,KAAK,IAAI,SAAS,CAAC,KAAK,CAAC,GAAG,MAAM,IAAI,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC;AAChG;AAEO,SAAS,MAAM,MAAc,UAAkB,GAAG,OAAe,GAAa;AAC5E,SAAA,MAAM,KAAK,EAAE,QAAQ,KAAQ,GAAA,CAAC,GAAG,UAAU,UAAU,QAAQ,IAAI;AAC1E;"}