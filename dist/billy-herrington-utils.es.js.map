{"version":3,"file":"billy-herrington-utils.es.js","sources":["../src/utils/strings/index.ts","../src/utils/parsers/index.ts","../src/utils/observers/index.ts","../src/utils/math/index.ts","../src/utils/dom/index.ts","../src/utils/fetch/index.ts","../src/utils/events/index.ts","../src/utils/device/index.ts","../src/utils/async/index.ts","../src/utils/arrays/index.ts"],"sourcesContent":["export function stringToWords(s: string): Array<string> {\r\n  return s.split(\",\").map(s => s.trim().toLowerCase()).filter(_ => _);\r\n}\r\n\r\nexport function sanitizeStr(s: string) {\r\n  return s?.replace(/\\n|\\t/, ' ').replace(/ {2,}/, ' ').trim().toLowerCase() || \"\";\r\n}\r\n","export function timeToSeconds(t: string): number {\r\n  return (t?.match(/\\d+/gm) || [0])\r\n    .reverse()\r\n    .map((s, i) => parseInt(s as string) * 60 ** i)\r\n    .reduce((a, b) => a + b);\r\n}\r\n\r\nexport function parseIntegerOr(n: string | number, or: number): number {\r\n  return Number.isInteger(parseInt(n as string)) ? parseInt(n as string) : or;\r\n}\r\n\r\n// \"data:02;body+head:async;void:;zero:;\"\r\nexport function parseDataParams(str: string) {\r\n  const params = str.split(';').flatMap(s => {\r\n    const parsed = s.match(/([\\+\\w+]+):(\\w+)?/);\r\n    const value = parsed?.[2];\r\n    if (value) return parsed[1].split('+').map(p => ({ [p]: value }));\r\n  }).filter(_ => _);\r\n  return Object.assign({}, ...params);\r\n}\r\n\r\nexport function parseCSSUrl(s: string) {\r\n  return s.replace(/url\\(\"|\\\"\\).*/g, '');\r\n}","export class Observer {\r\n  public observer: IntersectionObserver;\r\n  constructor(private callback: (entry: Element) => void) {\r\n    this.observer = new IntersectionObserver(this.handleIntersection.bind(this));\r\n  }\r\n\r\n  observe(target: Element) {\r\n    this.observer.observe(target);\r\n  }\r\n\r\n  throttle(target: Element, throttleTime: number) {\r\n    this.observer.unobserve(target);\r\n    setTimeout(() => this.observer.observe(target), throttleTime);\r\n  }\r\n\r\n  handleIntersection(entries: Iterable<IntersectionObserverEntry>) {\r\n    for (const entry of entries) {\r\n      if (entry.isIntersecting) {\r\n        this.callback(entry.target);\r\n      }\r\n    }\r\n  }\r\n\r\n  static observeWhile(target: Element, callback: () => Promise<boolean> | boolean, throttleTime: number) {\r\n    const observer_ = new Observer(async (target: Element) => {\r\n      const condition = await callback();\r\n      if (condition) observer_.throttle(target, throttleTime);\r\n    });\r\n    observer_.observe(target);\r\n    return observer_;\r\n  }\r\n}\r\n\r\nexport class LazyImgLoader {\r\n  public lazyImgObserver: Observer;\r\n  private attributeName = 'data-lazy-load';\r\n\r\n  constructor(shouldDelazify: (target: Element) => boolean) {\r\n    this.lazyImgObserver = new Observer((target: Element) => {\r\n      if (shouldDelazify(target)) {\r\n        this.delazify(target as HTMLImageElement);\r\n      }\r\n    });\r\n  }\r\n\r\n  lazify(_target: Element, img: HTMLImageElement, imgSrc: string) {\r\n    if (!img || !imgSrc) return;\r\n    img.setAttribute(this.attributeName, imgSrc);\r\n    img.src = '';\r\n    this.lazyImgObserver.observe(img);\r\n  }\r\n\r\n  delazify = (target: HTMLImageElement) => {\r\n    this.lazyImgObserver.observer.unobserve(target);\r\n    target.src = target.getAttribute(this.attributeName) as string;\r\n    target.removeAttribute(this.attributeName);\r\n  }\r\n}\r\n","export function circularShift(n: number, c = 6, s = 1): number {\r\n  return (n + s) % c || c;\r\n}\r\n","export function parseDom(html: string): HTMLElement {\r\n  const parsed = new DOMParser().parseFromString(html, 'text/html').body;\r\n  return parsed.children.length > 1 ? parsed : parsed.firstElementChild as HTMLElement;\r\n}\r\n\r\nexport function copyAttributes(target: HTMLElement | Element, source: HTMLElement | Element) {\r\n  for (const attr of source.attributes) {\r\n    attr.nodeValue && target.setAttribute(attr.nodeName, attr.nodeValue);\r\n  }\r\n}\r\n\r\nexport function replaceElementTag(e: HTMLElement | Element, tagName: string) {\r\n  const newTagElement = document.createElement(tagName);\r\n  copyAttributes(newTagElement, e);\r\n  newTagElement.innerHTML = e.innerHTML;\r\n  e.parentNode?.replaceChild(newTagElement, e);\r\n  return newTagElement;\r\n}\r\n\r\nexport function getAllUniqueParents(elements: HTMLCollection): Array<HTMLElement | Element> {\r\n  return Array.from(elements).reduce((acc, v) => {\r\n    if (v.parentElement && !acc.includes(v.parentElement as HTMLElement)) { acc.push(v.parentElement); }\r\n    return acc;\r\n  }, [] as Array<HTMLElement | Element>);\r\n}\r\n\r\nexport function findNextSibling(el: HTMLElement | Element) {\r\n  if (el.nextElementSibling) return el.nextElementSibling;\r\n  if (el.parentElement) return findNextSibling(el.parentElement);\r\n  return null;\r\n}\r\n\r\nexport function waitForElementExists(parent: HTMLElement | Element, selector: string, callback: (el: Element) => void): void {\r\n  const observer = new MutationObserver((_mutations) => {\r\n    const el = parent.querySelector(selector);\r\n    if (el) {\r\n      observer.disconnect();\r\n      callback(el);\r\n    }\r\n  });\r\n  observer.observe(document.body, { childList: true, subtree: true });\r\n}\r\n\r\nexport function watchElementChildrenCount(element: HTMLElement | Element,\r\n  callback: (observer: MutationObserver, count: number) => void): void {\r\n  let count = element.children.length;\r\n  const observer = new MutationObserver((mutationList, observer) => {\r\n    for (const mutation of mutationList) {\r\n      if (mutation.type === \"childList\") {\r\n        if (count !== element.children.length) {\r\n          count = element.children.length;\r\n          callback(observer, count);\r\n        }\r\n      }\r\n    }\r\n  });\r\n  observer.observe(element, { childList: true });\r\n}\r\n\r\nexport function watchDomChangesWithThrottle(element: HTMLElement | Element, callback: () => void,\r\n  throttle = 1000, options: Record<string, boolean> = { childList: true, subtree: true, attributes: true }) {\r\n  let lastMutationTime: number;\r\n  let timeout: number;\r\n  const observer = new MutationObserver((_mutationList, _observer) => {\r\n    const now = Date.now();\r\n    if (lastMutationTime && now - lastMutationTime < throttle) {\r\n      timeout && clearTimeout(timeout);\r\n    }\r\n    timeout = setTimeout(callback, throttle);\r\n    lastMutationTime = now;\r\n  });\r\n  observer.observe(element, options);\r\n}\r\n\r\nexport function downloader(options = { append: \"\", after: \"\", button: \"\", cbBefore: () => { } }) {\r\n  const btn = parseDom(options.button);\r\n\r\n  if (options.append) document.querySelector(options.append)?.append(btn);\r\n  if (options.after) document.querySelector(options.after)?.after(btn);\r\n\r\n  btn.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n\r\n    if (options.cbBefore) options.cbBefore();\r\n\r\n    waitForElementExists(document.body, 'video', (video: Element) => {\r\n      window.location.href = video.getAttribute('src') as string;\r\n    });\r\n  });\r\n}","import { parseDom } from \"../dom\";\r\n\r\nexport const MOBILE_UA = [\r\n  'Mozilla/5.0 (Linux; Android 10; K)',\r\n  'AppleWebKit/537.36 (KHTML, like Gecko)',\r\n  'Chrome/114.0.0.0 Mobile Safari/537.36'].join(' ');\r\n\r\nexport function fetchWith(url: string, options: Record<string, boolean> = { html: false, mobile: false }) {\r\n  const reqOpts = {};\r\n  if (options.mobile) Object.assign(reqOpts, { headers: new Headers({ \"User-Agent\": MOBILE_UA }) });\r\n  return fetch(url, reqOpts).then((r) => r.text()).then(r => options.html ? parseDom(r) : r);\r\n}\r\n\r\nexport const fetchHtml = (url: string) => fetchWith(url, { html: true });\r\n\r\nexport const fetchText = (url: string) => fetchWith(url);\r\n\r\nexport function objectToFormData(object: Record<string, number | boolean | string>): FormData {\r\n  const formData = new FormData();\r\n  Object.entries(object).forEach(([k, v]) => formData.append(k, v as string));\r\n  return formData;\r\n}\r\n","export function listenEvents(dom: HTMLElement | Element, events: Array<string>, callback: (e: Event) => void): void {\r\n  for (const e of events) {\r\n    dom.addEventListener(e, callback, true);\r\n  }\r\n}\r\n\r\nexport class Tick {\r\n  private tick: null | number;\r\n  private callbackFinal: (() => void) | undefined;\r\n\r\n  constructor(private delay: number, private startImmediate = true) {\r\n    this.tick = null;\r\n    this.delay = delay;\r\n    this.startImmediate = startImmediate;\r\n  }\r\n\r\n  start(callback: () => void, callbackFinal = undefined) {\r\n    this.stop();\r\n    this.callbackFinal = callbackFinal;\r\n    if (this.startImmediate) callback();\r\n    this.tick = setInterval(callback, this.delay);\r\n  }\r\n\r\n  stop() {\r\n    if (this.tick !== null) {\r\n      clearInterval(this.tick);\r\n      this.tick = null;\r\n    }\r\n    if (this.callbackFinal) {\r\n      this.callbackFinal();\r\n      this.callbackFinal = undefined;\r\n    }\r\n  }\r\n}","export function isMob() {\r\n  return /iPhone|Android/i.test(navigator.userAgent);\r\n}","// https://2ality.com/2016/10/asynchronous-iteration.html\r\nexport async function computeAsyncOneAtTime(iterable: Iterable<() => Promise<void>>) {\r\n  const res = [];\r\n  for await (const f of iterable) {\r\n    res.push(await f());\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function wait(milliseconds: number) {\r\n  return new Promise(resolve => setTimeout(resolve, milliseconds));\r\n}\r\n\r\ninterface SyncPullObject {\r\n  v: () => Promise<void>,\r\n  p: number\r\n}\r\n\r\nexport class SyncPull {\r\n  pull: Array<SyncPullObject> = [];\r\n  lock = false;\r\n\r\n  getHighPriorityFirst(p = 0): (() => Promise<void>) | undefined {\r\n    if (p > 3 || this.pull.length === 0) return undefined;\r\n    const i = this.pull.findIndex(e => e.p === p);\r\n    if (i >= 0) {\r\n      const res = this.pull[i].v;\r\n      this.pull = this.pull.slice(0, i).concat(this.pull.slice(i + 1));\r\n      return res;\r\n    }\r\n    return this.getHighPriorityFirst(p + 1);\r\n  }\r\n\r\n  *pullGenerator() {\r\n    while (this.pull.length > 0) {\r\n      yield this.getHighPriorityFirst();\r\n    }\r\n  }\r\n\r\n  async processPull() {\r\n    if (!this.lock) {\r\n      this.lock = true;\r\n      for await (const f of this.pullGenerator()) {\r\n        await f?.();\r\n      }\r\n      this.lock = false;\r\n    }\r\n  }\r\n\r\n  push(x: SyncPullObject) {\r\n    this.pull.push(x);\r\n    this.processPull();\r\n  }\r\n}\r\n","export function chunks<T>(arr: Array<T>, n: number): Array<Array<T>> {\r\n  const res = [];\r\n  for (let i = 0; i < arr.length; i += n) {\r\n    res.push(arr.slice(i, i + n));\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function range(size: number, startAt = 1): Array<number> {\r\n  return [...Array(size).keys()].map(i => i + startAt);\r\n}"],"names":["s","target","observer"],"mappings":"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"}